<!DOCTYPE html>
<html lang="en">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width,initial-scale=1.0">
Â  Â  <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/upload-file-lab/fileupload6/main/uploads/1760408834748.png">
Â  Â  <title>Givy NGL Spam</title>
Â  Â  <script src="https://cdn.tailwindcss.com"></script>
Â  Â  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer"/>
Â  Â  <style>
Â  Â  Â  Â  .pure-black-bg{background-color:#000}
Â  Â  Â  Â  .link-button{transition:all .3s ease}
Â  Â  Â  Â  .link-button:hover{transform:scale(1.02);box-shadow:0 8px 10px -4px rgba(255,255,255,.1),0 2px 4px -1px rgba(255,255,255,.06)}
Â  Â  Â  Â  .form-input{background-color:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.2);color:#fff;transition:all .3s ease}
Â  Â  Â  Â  .form-input:focus{background-color:rgba(255,255,255,.15);border-color:rgba(255,255,255,.4);box-shadow:0 0 0 2px rgba(255,255,255,.1)}
Â  Â  Â  Â  .form-input::placeholder{color:rgba(255,255,255,.5)}
Â  Â  Â  Â  @keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
Â  Â  Â  Â  .animate-entry{opacity:0;animation:fadeIn .8s ease-out forwards}
Â  Â  Â  Â  .button-disabled{opacity:0.6;cursor:not-allowed}
Â  Â  Â  Â  .button-disabled:hover{transform:none;box-shadow:none}
Â  Â  </style>
</head>
<body class="pure-black-bg p-4 text-white font-sans min-h-screen">
Â  Â  <div class="flex flex-col items-center w-full max-w-md mx-auto py-6">
Â  Â  Â  Â  <div id="profile-section" class="flex flex-col items-center mb-6 text-center w-full animate-entry" style="animation-delay:.1s">
Â  Â  Â  Â  Â  Â  <img src="https://raw.githubusercontent.com/upload-file-lab/fileupload6/main/uploads/1760408834748.png" alt="Givy Profile" class="w-16 h-16 rounded-full object-cover border-2 border-white/50 mb-2 transform hover:scale-105 transition-transform duration-300 ease-in-out">
Â  Â  Â  Â  Â  Â  <h1 class="text-xl font-bold tracking-wider uppercase mb-0 text-white">Givy</h1>
Â  Â  Â  Â  Â  Â  <p class="text-xs text-gray-400 italic">NGL Spam Sender</p>
Â  Â  Â  Â  Â  Â  <p class="mt-1 text-xs text-gray-300 max-w-xs">Send Anonymous Messages Repeatedly</p>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="w-full space-y-3 animate-entry" style="animation-delay:.3s">
Â  Â  Â  Â  Â  Â  <form id="ngl-form" class="space-y-3">
Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="username" class="block text-xs font-medium text-gray-300 mb-1">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <i class="fa-brands fa-instagram mr-1"></i>NGL Username (Target)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="relative">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="username" name="username" placeholder="e.g., dnxu" class="form-input w-full py-2 px-3 rounded text-sm pr-24">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="username-status" class="absolute right-3 top-1/2 transform -translate-y-1/2 flex items-center space-x-1">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span id="status-text" class="text-xs hidden"></span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <i id="status-icon" class="text-xs hidden"></i>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="message" class="block text-xs font-medium text-gray-300 mb-1">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <i class="fa-solid fa-message mr-1"></i>Anonymous Message
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <textarea id="message" name="message" rows="3" placeholder="Write your anonymous message here..." class="form-input w-full py-2 px-3 rounded text-sm resize-none" maxlength="100"></textarea>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="text-right text-xs text-gray-500 mt-1">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span id="char-count">0</span>/100 characters
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label for="count" class="block text-xs font-medium text-gray-300 mb-1">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <i class="fa-solid fa-paper-plane mr-1"></i>Total Messages (Max 25)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="number" id="count" name="count" min="1" max="25" value="10" class="form-input w-full py-2 px-3 rounded text-sm text-center">
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <button type="submit" id="send-button" class="link-button flex items-center justify-center w-full bg-white/10 text-white py-2 px-3 rounded text-sm font-medium tracking-wide text-center hover:bg-white/20 transition-all duration-300 mt-4 button-disabled" disabled>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <i class="fa-solid fa-paper-plane mr-2 text-sm"></i>Start NGL Spam
Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  </form>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div id="result-area" class="w-full mt-6 text-center hidden">
Â  Â  Â  Â  Â  Â  <h2 class="text-sm font-medium text-gray-300 mb-3">
Â  Â  Â  Â  Â  Â  Â  Â  <i class="fa-solid fa-chart-column mr-1"></i>Spam Result
Â  Â  Â  Â  Â  Â  </h2>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div class="error hidden" id="error-message">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex items-center justify-center space-x-2 text-red-400 bg-red-400/10 py-2 px-3 rounded text-xs">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <i class="fa-solid fa-triangle-exclamation"></i>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span></span>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div id="ngl-result-display" class="hidden text-left p-4 bg-white/10 rounded border border-white/20">
Â  Â  Â  Â  Â  Â  Â  Â  <div class="grid grid-cols-2 gap-3 mb-4">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-white/5 rounded p-3 text-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <i class="fa-solid fa-user text-blue-400 text-lg mb-1"></i>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-xs text-gray-400">Target</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p id="res-target" class="text-sm font-bold text-white"></p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-white/5 rounded p-3 text-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <i class="fa-solid fa-bullseye text-purple-400 text-lg mb-1"></i>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-xs text-gray-400">Total Attempts</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p id="res-total" class="text-sm font-bold text-white"></p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-white/5 rounded p-3 text-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <i class="fa-solid fa-check-circle text-green-400 text-lg mb-1"></i>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-xs text-gray-400">Success</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p id="res-success" class="text-sm font-bold text-green-400"></p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="bg-white/5 rounded p-3 text-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <i class="fa-solid fa-times-circle text-red-400 text-lg mb-1"></i>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-xs text-gray-400">Failed</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p id="res-fail" class="text-sm font-bold text-red-400"></p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  <div class="mb-4">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex justify-between items-center mb-2">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="text-xs font-medium text-gray-300">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <i class="fa-solid fa-chart-line mr-1"></i>Success Rate
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span id="res-rate" class="text-sm font-bold"></span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="w-full bg-white/10 rounded-full h-2">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="progress-bar" class="h-2 rounded-full transition-all duration-500"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  <div class="border-t border-white/10 pt-3">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-xs font-bold text-gray-300 mb-2">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <i class="fa-solid fa-list-ol mr-1"></i>Send Details:
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="res-details" class="space-y-2 max-h-40 overflow-y-auto text-xs">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="text-center text-xs text-gray-500 mt-6 pt-3 border-t border-white/10 animate-entry" style="animation-delay:.7s">
Â  Â  Â  Â  Â  Â  <p>Givy | Made with <span class="text-white">ğŸ¤</span></p>
Â  Â  Â  Â  </div>
Â  Â  </div>
Â  Â Â 
Â  Â  <script>
Â  Â  Â  Â  const form = document.getElementById("ngl-form"),
Â  Â  Â  Â  Â  Â  Â  usernameInput = document.getElementById("username"),
Â  Â  Â  Â  Â  Â  Â  messageInput = document.getElementById("message"),
Â  Â  Â  Â  Â  Â  Â  countInput = document.getElementById("count"),
Â  Â  Â  Â  Â  Â  Â  sendButton = document.getElementById("send-button"),
Â  Â  Â  Â  Â  Â  Â  errorMessage = document.getElementById("error-message"),
Â  Â  Â  Â  Â  Â  Â  nglResultDisplay = document.getElementById("ngl-result-display"),
Â  Â  Â  Â  Â  Â  Â  resTarget = document.getElementById("res-target"),
Â  Â  Â  Â  Â  Â  Â  resTotal = document.getElementById("res-total"),
Â  Â  Â  Â  Â  Â  Â  resSuccess = document.getElementById("res-success"),
Â  Â  Â  Â  Â  Â  Â  resFail = document.getElementById("res-fail"),
Â  Â  Â  Â  Â  Â  Â  resRate = document.getElementById("res-rate"),
Â  Â  Â  Â  Â  Â  Â  progressBar = document.getElementById("progress-bar"),
Â  Â  Â  Â  Â  Â  Â  resDetails = document.getElementById("res-details"),
Â  Â  Â  Â  Â  Â  Â  charCount = document.getElementById("char-count"),
Â  Â  Â  Â  Â  Â  Â  resultArea = document.getElementById("result-area"),
Â  Â  Â  Â  Â  Â  Â  statusText = document.getElementById("status-text"),
Â  Â  Â  Â  Â  Â  Â  statusIcon = document.getElementById("status-icon"),
Â  Â  Â  Â  Â  Â  Â  API_BASE_URL = "https://api.eberardos.my.id/tools/ngl";

Â  Â  Â  Â  // Endpoint Vercel Serverless Function Anda (Sama seperti IQC)
Â  Â  Â  Â  const VERCELL_NOTIFY_URL = "/api/telegram";

Â  Â  Â  Â  const SEND_ICON_HTML = '<i class="fa-solid fa-paper-plane mr-2 text-sm"></i>Start NGL Spam';
Â  Â  Â  Â  const PROCESSING_ICON_HTML = '<i class="fa-solid fa-spinner fa-spin mr-2"></i>Sending...';

Â  Â  Â  Â  let usernameCheckTimeout;
Â  Â  Â  Â  let lastCheckedUsername = '';
Â  Â  Â  Â  let isUsernameValid = false;

        /**
         * FUNGSI NOTIFIKASI TELEGRAM
         */
        function sendNotificationToVercel(username, message, count) {
            const payload = {
                tool: 'NGL Spam', 
                target: username,
                message: message,
                count: count
            };

            fetch(VERCELL_NOTIFY_URL, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(payload)
            })
            .catch(error => {
                console.error('Error sending data to Vercel backend:', error);
            });
        }
        
Â  Â  Â  Â  function showError(message) {
Â  Â  Â  Â  Â  Â  alert(message);
Â  Â  Â  Â  Â  Â  sendButton.disabled = false;
Â  Â  Â  Â  Â  Â  sendButton.innerHTML = SEND_ICON_HTML;
Â  Â  Â  Â  Â  Â  updateSubmitButton();
Â  Â  Â  Â  }

Â  Â  Â  Â  function showUsernameStatus(status, message) {
Â  Â  Â  Â  Â  Â  statusText.textContent = message;
Â  Â  Â  Â  Â  Â  statusText.classList.remove('hidden');
Â  Â  Â  Â  Â  Â  statusIcon.classList.remove('hidden');
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  statusText.className = 'text-xs';
Â  Â  Â  Â  Â  Â  statusIcon.className = 'text-xs';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  switch(status) {
Â  Â  Â  Â  Â  Â  Â  Â  case 'checking':
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  statusText.classList.add('text-yellow-400');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  statusIcon.className = 'fas fa-spinner fa-spin text-yellow-400';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  isUsernameValid = false;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateSubmitButton();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  Â  Â  Â  Â  case 'valid':
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  statusText.classList.add('text-green-400');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  statusIcon.className = 'fas fa-check-circle text-green-400';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  isUsernameValid = true;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateSubmitButton();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  Â  Â  Â  Â  case 'invalid':
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  statusText.classList.add('text-red-400');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  statusIcon.className = 'fas fa-times-circle text-red-400';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  isUsernameValid = false;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateSubmitButton();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  Â  Â  Â  Â  case 'empty':
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  statusText.classList.add('hidden');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  statusIcon.classList.add('hidden');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  isUsernameValid = false;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateSubmitButton();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function updateSubmitButton() {
Â  Â  Â  Â  Â  Â  const message = messageInput.value.trim();
Â  Â  Â  Â  Â  Â  const hasMessage = message.length > 0;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if (isUsernameValid && hasMessage) {
Â  Â  Â  Â  Â  Â  Â  Â  sendButton.disabled = false;
Â  Â  Â  Â  Â  Â  Â  Â  sendButton.classList.remove('button-disabled');
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  sendButton.disabled = true;
Â  Â  Â  Â  Â  Â  Â  Â  sendButton.classList.add('button-disabled');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  async function checkUsername(username) {
Â  Â  Â  Â  Â  Â  if (!username || username.length < 2) {
Â  Â  Â  Â  Â  Â  Â  Â  showUsernameStatus('empty', '');
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if (username === lastCheckedUsername) {
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  lastCheckedUsername = username;
Â  Â  Â  Â  Â  Â  showUsernameStatus('checking', 'Checking...');
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  const proxies = [
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  '', // Direct request
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'https://api.allorigins.win/raw?url=',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'https://corsproxy.io/?',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'https://proxy.cors.sh/'
Â  Â  Â  Â  Â  Â  Â  Â  ];
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  let success = false;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  for (const proxy of proxies) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const targetUrl = `https://ngl.link/${username}`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const finalUrl = proxy + encodeURIComponent(targetUrl);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log(`Trying proxy: ${proxy || 'direct'}`);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const response = await fetch(finalUrl, {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  method: 'GET',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  headers: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  mode: 'cors',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  credentials: 'omit'
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (response.ok) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const html = await response.text();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  await processUsernameResponse(username, html, response.url);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  success = true;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } catch (e) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.log(`Proxy ${proxy} failed:`, e.message);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  continue;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  if (!success) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  await checkUsernameFallback(username);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  Â  Â  console.error('Error checking username:', error);
Â  Â  Â  Â  Â  Â  Â  Â  showUsernameStatus('invalid', 'Not Found');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  async function checkUsernameFallback(username) {
Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  const response = await fetch(`${API_BASE_URL}?username=${username}&message=test&count=1`);
Â  Â  Â  Â  Â  Â  Â  Â  const data = await response.json();
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  if (data.status === true) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  showUsernameStatus('valid', 'Found');
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  showUsernameStatus('invalid', 'Not Found');
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  Â  Â  // Langsung anggap Not Found kalo semua gagal
Â  Â  Â  Â  Â  Â  Â  Â  showUsernameStatus('invalid', 'Not Found');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  async function processUsernameResponse(username, html, finalUrl) {
Â  Â  Â  Â  Â  Â  const content = html.toLowerCase();
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const nglIndicators = [
Â  Â  Â  Â  Â  Â  Â  Â  'send anonymous messages',
Â  Â  Â  Â  Â  Â  Â  Â  'ask me anything',
Â  Â  Â  Â  Â  Â  Â  Â  'ngl.link',
Â  Â  Â  Â  Â  Â  Â  Â  'anonymous questions',
Â  Â  Â  Â  Â  Â  Â  Â  'type your question',
Â  Â  Â  Â  Â  Â  Â  Â  'submit'
Â  Â  Â  Â  Â  Â  ];
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  let foundIndicators = 0;
Â  Â  Â  Â  Â  Â  for (const indicator of nglIndicators) {
Â  Â  Â  Â  Â  Â  Â  Â  if (content.includes(indicator)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  foundIndicators++;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const errorIndicators = [
Â  Â  Â  Â  Â  Â  Â  Â  'page not found',
Â  Â  Â  Â  Â  Â  Â  Â  'does not exist',
Â  Â  Â  Â  Â  Â  Â  Â  'not found',
Â  Â  Â  Â  Â  Â  Â  Â  '404',
Â  Â  Â  Â  Â  Â  Â  Â  'error'
Â  Â  Â  Â  Â  Â  ];
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  let foundErrors = 0;
Â  Â  Â  Â  Â  Â  for (const error of errorIndicators) {
Â  Â  Â  Â  Â  Â  Â  Â  if (content.includes(error)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  foundErrors++;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // HANYA 2 STATUS: Found atau Not Found
Â  Â  Â  Â  Â  Â  if (finalUrl.includes('ngl.link') && finalUrl.includes(username)) {
Â  Â  Â  Â  Â  Â  Â  Â  if (foundIndicators >= 2) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  showUsernameStatus('valid', 'Found');
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Semua kasus lain langsung dianggap Not Found
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  showUsernameStatus('invalid', 'Not Found');
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  showUsernameStatus('invalid', 'Not Found');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  // Event listeners
Â  Â  Â  Â  usernameInput.addEventListener('input', function() {
Â  Â  Â  Â  Â  Â  const username = this.value.trim();
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  clearTimeout(usernameCheckTimeout);
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if (!username) {
Â  Â  Â  Â  Â  Â  Â  Â  showUsernameStatus('empty', '');
Â  Â  Â  Â  Â  Â  Â  Â  lastCheckedUsername = '';
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  usernameCheckTimeout = setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  checkUsername(username);
Â  Â  Â  Â  Â  Â  }, 600);
Â  Â  Â  Â  });

Â  Â  Â  Â  messageInput.addEventListener("input", function() {
Â  Â  Â  Â  Â  Â  charCount.textContent = this.value.length;
Â  Â  Â  Â  Â  Â  updateSubmitButton();
Â  Â  Â  Â  });
Â  Â  Â  Â Â 
Â  Â  Â  Â  form.addEventListener("submit", async function(e) {
Â  Â  Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Validasi dengan pesan kocak
Â  Â  Â  Â  Â  Â  if (!isUsernameValid) {
Â  Â  Â  Â  Â  Â  Â  Â  alert("kirim usernamenya yang bener lah woi");
Â  Â  Â  Â  Â  Â  Â  Â  usernameInput.focus();
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const message = messageInput.value.trim();
Â  Â  Â  Â  Â  Â  if (!message) {
Â  Â  Â  Â  Â  Â  Â  Â  alert("Pesan nya mana? Mau kirim angin?");
Â  Â  Â  Â  Â  Â  Â  Â  messageInput.focus();
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  errorMessage.classList.add("hidden");
Â  Â  Â  Â  Â  Â  nglResultDisplay.classList.add("hidden");
Â  Â  Â  Â  Â  Â  resultArea.classList.add("hidden");
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  const username = usernameInput.value.trim();
Â  Â  Â  Â  Â  Â  const count = parseInt(countInput.value.trim());

Â  Â  Â  Â  Â  Â  if (count < 1 || count > 25 || isNaN(count)) {
Â  Â  Â  Â  Â  Â  Â  Â  alert("Mau kirim berapa pesan? 1-25 aja ya!");
Â  Â  Â  Â  Â  Â  Â  Â  countInput.focus();
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  }

            // --- PANGGIL FUNGSI AMAN (Mengirim ke Vercel) ---
            sendNotificationToVercel(username, message, count);
            // --------------------------------------------------

Â  Â  Â  Â  Â  Â  sendButton.disabled = true;
Â  Â  Â  Â  Â  Â  sendButton.innerHTML = PROCESSING_ICON_HTML;
Â  Â  Â  Â  Â  Â  resultArea.classList.remove("hidden");

Â  Â  Â  Â  Â  Â  const encodedMessage = encodeURIComponent(message);
Â  Â  Â  Â  Â  Â  const finalUrl = `${API_BASE_URL}?username=${username}&message=${encodedMessage}&count=${count}`;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  const response = await fetch(finalUrl);
Â  Â  Â  Â  Â  Â  Â  Â  const data = await response.json();

Â  Â  Â  Â  Â  Â  Â  Â  if (data.status === true && data.result) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  displayResult(data.result);
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  showError(data.message || "Yah gagal nih, coba lagi deh!");
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  Â  Â  console.error("Fetch error:", error);
Â  Â  Â  Â  Â  Â  Â  Â  showError("Internet lu lemot banget dah, coba lagi nanti!");
Â  Â  Â  Â  Â  Â  } finally {
Â  Â  Â  Â  Â  Â  Â  Â  sendButton.disabled = false;
Â  Â  Â  Â  Â  Â  Â  Â  sendButton.innerHTML = SEND_ICON_HTML;
Â  Â  Â  Â  Â  Â  Â  Â  updateSubmitButton();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });

Â  Â  Â  Â  function displayResult(result) {
Â  Â  Â  Â  Â  Â  resTarget.textContent = result.target;
Â  Â  Â  Â  Â  Â  resTotal.textContent = result.totalAttempt;
Â  Â  Â  Â  Â  Â  resSuccess.textContent = result.successCount;
Â  Â  Â  Â  Â  Â  resFail.textContent = result.failCount;
Â  Â  Â  Â  Â  Â  resRate.textContent = result.successRate;

Â  Â  Â  Â  Â  Â  const successRate = parseFloat(result.successRate);
Â  Â  Â  Â  Â  Â  progressBar.style.width = `${successRate}%`;
Â  Â  Â  Â  Â  Â  if (successRate > 70) {
Â  Â  Â  Â  Â  Â  Â  Â  progressBar.className = "h-2 rounded-full bg-green-500 transition-all duration-500";
Â  Â  Â  Â  Â  Â  } else if (successRate > 40) {
Â  Â  Â  Â  Â  Â  Â  Â  progressBar.className = "h-2 rounded-full bg-yellow-500 transition-all duration-500";
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  progressBar.className = "h-2 rounded-full bg-red-500 transition-all duration-500";
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  resDetails.innerHTML = '';
Â  Â  Â  Â  Â  Â  result.details.forEach(detail => {
Â  Â  Â  Â  Â  Â  Â  Â  const statusClass = detail.status === "Berhasil" ?Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'border-green-500/30 bg-green-500/10' :Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'border-red-500/30 bg-red-500/10';
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const icon = detail.status === "Berhasil" ?Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'fa-check-circle text-green-400' :Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'fa-times-circle text-red-400';
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const statusText = detail.status === "Berhasil" ?Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  'text-green-400' : 'text-red-400';
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const detailItem = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  detailItem.className = `flex items-center justify-between border rounded p-2 ${statusClass}`;
Â  Â  Â  Â  Â  Â  Â  Â  detailItem.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex items-center">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <i class="fa-solid ${icon} mr-2"></i>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="text-white">Message #${detail.attempt}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="${statusText} text-xs font-medium">${detail.status}</span>
Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  Â  Â  resDetails.appendChild(detailItem);
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  nglResultDisplay.classList.remove("hidden");
Â  Â  Â  Â  }

Â  Â  Â  Â  // Inisialisasi button status
Â  Â  Â  Â  updateSubmitButton();
Â  Â  </script>
</body>
</html>
